<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iris-polymer-importer/iris-importer.html">

<link rel="import" href="../../bower_components/iron-meta/iron-meta.html">

<link rel="import" href="iris-settings-control.html">

<dom-module id="iris-settings-panel">
  <template>
    <style include="shared-styles"></style>
    <style>
      :host {
        display: block;
      }
    </style>
    <iron-meta id="meta"></iron-meta>
    <template id="groups" is="dom-repeat" items="{{description}}" as="group">
      <h2>{{group.name}}</h2>
      <section class="settings-group">
        <template id="settings-field" is="dom-repeat" items="{{group.items}}" as="field">
          <iris-settings-control item="{{field}}"></iris-settings-control>
        </template>
      </section>
    </template>
  </template>

  <script>
    (function() {
      'use strict';
      Polymer({
        is: 'iris-settings-panel',
        properties: {},
        ready() {
          let api = this.$.meta.byKey('api');
          let settings = api.require('settings');
          this.description = settings.description;
        }
      });
    })();
  </script>

</dom-module>